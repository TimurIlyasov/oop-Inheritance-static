package zoo;

/**
 * Нелетающие птицы.
 * Добавляет параметр типа передвижения и метод гулять.
 */
public class FlightlessBird extends Bird {
    private String movementType;

    public FlightlessBird(String name, int age, String habitat, String movementType) {
        super(name, age, habitat);
        setMovementType(movementType);
    }

    public String getMovementType() {
        return movementType;
    }

    public void setMovementType(String movementType) {
        if (movementType == null || movementType.isBlank()) {
            this.movementType = "ходьба";
        } else {
            this.movementType = movementType;
        }
    }

    public void walk() {
        System.out.println(getName() + " гуляет, передвигается: " + movementType);
    }

    @Override
    public void eat() {
        System.out.println(getName() + " ест");
    }

    @Override
    public void move() {
        walk();
    }

    @Override
    public String toString() {
        return super.toString() + ", тип передвижения: " + movementType;
    }

    @Override
    public boolean equals(Object o) {
        if (!super.equals(o)) return false;
        if (!(o instanceof FlightlessBird)) return false;
        FlightlessBird f = (FlightlessBird) o;
        return movementType.equalsIgnoreCase(f.movementType);
    }

    @Override
    public int hashCode() {
        return super.hashCode() + movementType.toLowerCase().hashCode();
    }
}